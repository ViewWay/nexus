# Cargo-Deny Configuration
# Cargo-Deny 配置文件
#
# This configuration defines license, advisory, and ban checks for dependencies.
# 此配置定义依赖的许可证、安全公告和禁止项检查。

# ==============================================================================
# Advisory Checks / 安全公告检查
# ==============================================================================
[advisories]
# The path where the advisory database is cloned/fetched into
# 数据库被克隆/获取的路径
db-path = "~/.cargo/advisory-db"
# The url(s) of the advisory databases to use
# 要使用的数据公告数据库 URL
db-urls = ["https://github.com/rustsec/advisory-db"]
# The lint level for security vulnerabilities
# 安全漏洞的 lint 级别
vulnerability = "deny"
# The lint level for unmaintained crates
# 未维护 crate 的 lint 级别
unmaintained = "warn"
# The lint level for crates that have been yanked from their source registry
# 从源注册表中被撤回的 crate 的 lint 级别
yanked = "warn"
# The lint level for crates with security notices
# 有安全通知的 crate 的 lint 级别
notice = "warn"
# A list of advisory IDs to ignore
# 要忽略的公告 ID 列表
ignore = []

# ==============================================================================
# License Checks / 许可证检查
# ==============================================================================
[licenses]
# The lint level for crates which do not have a detectable license
# 无法检测许可证的 crate 的 lint 级别
unlicensed = "deny"
# List of explicitly allowed licenses
# 明确允许的许可证列表
allow = [
    "MIT",
    "Apache-2.0",
    "Apache-2.0 WITH LLVM-exception",
    "BSD-2-Clause",
    "BSD-3-Clause",
    "ISC",
    "Unicode-DFS-2016",
]
# List of explicitly disallowed licenses
# 明确禁止的许可证列表
deny = [
    "GPL-2.0",
    "GPL-3.0",
    "AGPL-3.0",
]
# Lint level for licenses considered copyleft
# 著作权留左（copyleft）许可证的 lint 级别
copyleft = "warn"
# Blanket approval or denial for OSI-approved or FSF Free/Libre licenses
# OSI 批准或 FSF 自由/免费许可证的 blanket 批准或拒绝
allow-osi-fsf-free = "both"
# Lint level used when no other predicates are matched
# 当没有其他谓词匹配时使用的 lint 级别
default = "deny"
# The confidence threshold for detecting a license from license text.
# 从许可证文本检测许可证的置信度阈值。
# The higher the value, the more closely the license text must be matched.
# 值越高，许可证文本必须匹配得越紧密。
# Both high and low confidence will be used in some capacity
# 高置信度和低置信度都会以某种方式使用
confidence-threshold = 0.8
# Allow 1 or more licenses on a per-crate basis
# 在每个 crate 的基础上允许一个或多个许可证
exceptions = []

[licenses.private]
# Ignore private workspace crates for license checks
# 忽略私有 workspace crates 进行许可证检查
ignore = false

# ==============================================================================
# Bans / 禁止项检查
# ==============================================================================
[bans]
# Lint level for when multiple versions of the same crate are detected
# 检测到同一 crate 的多个版本时的 lint 级别
multiple-versions = "warn"
# Lint level for when a crate version requirement is `*`
# 当 crate 版本要求为 `*` 时的 lint 级别
wildcards = "allow"
# The graph highlighting used when creating dotgraphs for crates
# 为 crates 创建 dot 图时使用的图高亮
highlight = "all"
# List of crates that are allowed
# 允许的 crates 列表
allow = []
# List of crates to deny
# 拒绝的 crates 列表
deny = []
# Certain crates/versions that will be skipped when doing duplicate detection
# 在进行重复检测时将跳过的某些 crate/版本
skip = []
# Similarly named crates that are allowed
# 允许的类似名称的 crates
skip-tree = []

# ==============================================================================
# Sources / 来源检查
# ==============================================================================
[sources]
# Lint level for what to happen when a crate from a crate registry that is not
# in the allow list is encountered
# 当遇到不在允许列表中的 crate 注册表的 crate 时发生的 lint 级别
unknown-registry = "warn"
# Lint level for what to happen when a crate from a git repository that is not
# in the allow list is encountered
# 当遇到不在允许列表中的 git 仓库的 crate 时发生的 lint 级别
unknown-git = "warn"
# List of URLs for allowed crate registries
# 允许的 crate 注册表 URL 列表
allow-registry = ["https://github.com/rust-lang/crates.io-index"]
# List of URLs for allowed Git repositories
# 允许的 Git 仓库 URL 列表
allow-git = []

[sources.allow-org]
# List of GitHub organizations to allow git sources for
# 允许 git 来源的 GitHub 组织列表
github = []
# List of GitLab organizations to allow git sources for
# 允许 git 来源的 GitLab 组织列表
gitlab = []
